<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>浏览器渲染原理你了解多少 | Lawson&#39;s Blog | 苦中作乐，方能心安理得</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="浏览器">
    <meta name="description" content="通过这篇文章，能够让你重新认识浏览器，并把JavaScript，网络，页面渲染，浏览器安全等知识串联起来，从而让你对整个前端体系有全新的认识。这篇文章是上篇文章的追加从输入URL到页面展示，这中间发生了啥 渲染流程渲染引擎 渲染引擎：它是浏览器最核心的部分是 “Rendering Engine”，不过我们一般习惯将之称为 “浏览器内核”； 渲染引擎主要包括的线程：GUI渲染线程、JavaScrip">
<meta property="og:type" content="article">
<meta property="og:title" content="浏览器渲染原理你了解多少">
<meta property="og:url" content="http://lawsan.xyz/2020/07/10/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86%E4%BD%A0%E4%BA%86%E8%A7%A3%E5%A4%9A%E5%B0%91/index.html">
<meta property="og:site_name" content="Lawson&#39;s Blog">
<meta property="og:description" content="通过这篇文章，能够让你重新认识浏览器，并把JavaScript，网络，页面渲染，浏览器安全等知识串联起来，从而让你对整个前端体系有全新的认识。这篇文章是上篇文章的追加从输入URL到页面展示，这中间发生了啥 渲染流程渲染引擎 渲染引擎：它是浏览器最核心的部分是 “Rendering Engine”，不过我们一般习惯将之称为 “浏览器内核”； 渲染引擎主要包括的线程：GUI渲染线程、JavaScrip">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/2020/7.10/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%86%85%E6%A0%B8.jpg">
<meta property="og:image" content="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/2020/7.10/%E7%AE%80%E5%8D%95%E7%9A%84%E6%B8%B2%E6%9F%93%E6%B5%81%E7%A8%8B.jpg">
<meta property="og:image" content="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/2020/7.10/%E5%9B%9E%E6%B5%81%E8%BF%87%E7%A8%8B.jpg">
<meta property="og:image" content="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/2020/7.10/%E9%87%8D%E7%BB%98%E8%BF%87%E7%A8%8B.jpg">
<meta property="og:image" content="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/2020/7.10/%E5%AD%90%E9%98%B6%E6%AE%B5.jpg">
<meta property="og:image" content="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/2020/7.10/%E6%9E%84%E5%BB%BADOM%E6%A0%91%E6%B5%81%E7%A8%8B.jpg">
<meta property="og:image" content="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/2020/7.10/css%E6%A0%87%E5%87%86%E5%8C%96.jpg">
<meta property="og:image" content="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/2020/7.10/%E5%B8%83%E5%B1%80%E6%A0%91%E6%9E%84%E5%BB%BA%E8%BF%87%E7%A8%8B.jpg">
<meta property="og:image" content="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/2020/7.10/%E6%B8%B2%E6%9F%93%E5%89%8D%E4%B8%89%E9%98%B6%E6%AE%B5.jpg">
<meta property="og:image" content="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/2020/7.10/%E5%9B%BE%E5%B1%82%E6%A0%91.jpg">
<meta property="og:image" content="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/2020/7.10/%E7%BB%98%E5%88%B6%E5%88%97%E8%A1%A8.jpg">
<meta property="og:image" content="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/2020/7.10/%E6%A0%85%E6%A0%BC%E5%8C%96.jpg">
<meta property="og:image" content="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/2020/7.10/%E4%B8%80%E5%BC%A0%E5%9B%BE%E6%80%BB%E7%BB%93%E6%B8%B2%E6%9F%93%E8%BF%87%E7%A8%8B.jpg">
<meta property="og:image" content="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/2020/7.10/%E4%B8%80%E5%BC%A0%E5%9B%BE%E6%80%BB%E7%BB%93%E6%B8%B2%E6%9F%93%E8%BF%87%E7%A8%8B2.jpg">
<meta property="og:image" content="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/emotion/%E7%86%8A%E7%8C%AB%E4%BA%BA%E5%90%90%E8%A1%80.jpg">
<meta property="article:published_time" content="2020-07-10T04:21:03.000Z">
<meta property="article:modified_time" content="2020-07-10T07:24:44.742Z">
<meta property="article:author" content="Lawson">
<meta property="article:tag" content="浏览器">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/2020/7.10/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%86%85%E6%A0%B8.jpg">
    
        <link rel="alternate" type="application/atom+xml" title="Lawson&#39;s Blog" href="/atom.xml">
    
    <link rel="shortcut icon" href="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/assets/favicon.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

<meta name="generator" content="Hexo 4.2.1"></head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/assets/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/assets/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">Lawson</h5>
          <a href="mailto:2292100085@qq.com" title="2292100085@qq.com" class="mail">2292100085@qq.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                归档
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                标签
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/ChuanV" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://blog.csdn.net/qq_42335214" target="_blank" >
                <i class="icon icon-lg icon-send"></i>
                CSDN
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/about"  >
                <i class="icon icon-lg icon-exclamation-circle"></i>
                关于
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">浏览器渲染原理你了解多少</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">浏览器渲染原理你了解多少</h1>
        <h5 class="subtitle">
            
                <time datetime="2020-07-10T04:21:03.000Z" itemprop="datePublished" class="page-time">
  2020-07-10
</time>


            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#渲染流程"><span class="post-toc-number">1.</span> <span class="post-toc-text">渲染流程</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#渲染引擎"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">渲染引擎</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#简略的渲染流程"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">简略的渲染流程</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#图层"><span class="post-toc-number">1.2.1.</span> <span class="post-toc-text">图层</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#重绘（Repaint）和回流（Reflow）"><span class="post-toc-number">1.2.2.</span> <span class="post-toc-text">重绘（Repaint）和回流（Reflow）</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#减少重绘和回流"><span class="post-toc-number">1.2.3.</span> <span class="post-toc-text">减少重绘和回流</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#详细的渲染流程"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">详细的渲染流程</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#构建DOM树"><span class="post-toc-number">1.3.1.</span> <span class="post-toc-text">构建DOM树</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#样式计算"><span class="post-toc-number">1.3.2.</span> <span class="post-toc-text">样式计算</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#生成布局树"><span class="post-toc-number">1.3.3.</span> <span class="post-toc-text">生成布局树</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#分层"><span class="post-toc-number">1.3.4.</span> <span class="post-toc-text">分层</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#绘制"><span class="post-toc-number">1.3.5.</span> <span class="post-toc-text">绘制</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#分块"><span class="post-toc-number">1.3.6.</span> <span class="post-toc-text">分块</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#光栅化"><span class="post-toc-number">1.3.7.</span> <span class="post-toc-text">光栅化</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#合成和显示"><span class="post-toc-number">1.3.8.</span> <span class="post-toc-text">合成和显示</span></a></li></ol></li></ol></li></ol>
        </nav>
    </aside>


<article id="post-浏览器渲染原理你了解多少"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">浏览器渲染原理你了解多少</h1>
        <div class="post-meta">
            <time class="post-time" title="2020-07-10 12:21:03" datetime="2020-07-10T04:21:03.000Z"  itemprop="datePublished">2020-07-10</time>

            


            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <p>通过这篇文章，能够让你重新认识浏览器，并把JavaScript，网络，页面渲染，浏览器安全等知识串联起来，从而让你对整个前端体系有全新的认识。<br>这篇文章是上篇文章的追加<a href="/2020/07/09/%E4%BB%8E%E8%BE%93%E5%85%A5URL%E5%88%B0%E9%A1%B5%E9%9D%A2%E5%B1%95%E7%A4%BA%EF%BC%8C%E8%BF%99%E4%B8%AD%E9%97%B4%E5%8F%91%E7%94%9F%E4%BA%86%E5%95%A5/">从输入URL到页面展示，这中间发生了啥</a></p>
<h2 id="渲染流程"><a href="#渲染流程" class="headerlink" title="渲染流程"></a>渲染流程</h2><h3 id="渲染引擎"><a href="#渲染引擎" class="headerlink" title="渲染引擎"></a>渲染引擎</h3><ul>
<li><strong>渲染引擎</strong>：它是浏览器最核心的部分是 “Rendering Engine”，不过我们一般习惯将之称为 “浏览器内核”；</li>
<li>渲染引擎主要包括的线程：GUI渲染线程、JavaScript引擎线程、事件触发线程、定时器触发线程、HTTP异步请求线程；如下图<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/2020/7.10/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%86%85%E6%A0%B8.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></li>
<li><strong>GUI渲染线程</strong>：GUI 渲染线程负责渲染浏览器界面，解析 HTML，CSS，构建 DOM 树和 RenderObject 树，布局和绘制等。当界面需要重绘（Repaint）或由于某种操作引发回流（Reflow）时，该线程就会执行。</li>
<li><strong>JavaScript引擎线程</strong>: JavaScript 引擎线程主要负责解析 JavaScript 脚本并运行相关代码。 JavaScript 引擎在一个Tab页（Renderer 进程）中无论什么时候都只有一个 JavaScript 线程在运行 JavaScript 程序。需要提起一点就是，GUI线程与JavaScript引擎线程是互斥的，这也是就是为什么JavaScript操作时间过长，会造成页面渲染不连贯，导致页面出现阻塞的原理。</li>
<li><strong>事件触发线程</strong>：当一个事件被触发时该线程会把事件添加到待处理队列的队尾，等待 JavaScript 引擎的处理。 通常JavaScript引擎是单线程的，所以这些事件都会排队等待JS执行。</li>
<li><strong>定时器触发器</strong>：我们日常使用的setInterval 和 setTimeout 就在该线程中，原因可能就是：由于JS引擎是单线程的，如果处于阻塞线程状态就会影响记时的准确，所以需要通过单独的线程来记时并触发响应的事件这样子更为合理。</li>
<li><strong>Http请求线程</strong>：在 XMLHttpRequest 在连接后是通过浏览器新开一个线程请求，这个线程就Http请求线程，它 将检测到状态变更时，如果设置有回调函数，异步线程就产生状态变更事件放到 JavaScript 引擎的处理队列中等待处理。<h3 id="简略的渲染流程"><a href="#简略的渲染流程" class="headerlink" title="简略的渲染流程"></a>简略的渲染流程</h3></li>
</ul>
<ol>
<li>处理 HTML 并构建 DOM 树。</li>
<li>处理 CSS 构建 CSSOM 树。</li>
<li>将 DOM 与 CSSOM 合并成一个渲染树。</li>
<li>根据渲染树来布局，计算每个节点的位置。</li>
<li>调用 GPU 绘制，合成图层，显示在屏幕上。<br>流程如下图：<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/2020/7.10/%E7%AE%80%E5%8D%95%E7%9A%84%E6%B8%B2%E6%9F%93%E6%B5%81%E7%A8%8B.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>
相关说明：</li>
</ol>
<ul>
<li>在构建 CSSOM 树时，会阻塞渲染，直至 CSSOM 树构建完成。并且构建 CSSOM 树是一个十分消耗性能的过程，所以应该尽量保证层级扁平，减少过度层叠，越是具体的 CSS 选择器，执行速度越慢。</li>
<li>当 HTML 解析到 script 标签时，会暂停构建 DOM，完成后才会从暂停的地方重新开始。也就是说，如果你想首屏渲染的越快，就越不应该在首屏就加载 JS 文件。并且 CSS 也会影响 JS 的执行，只有当解析完样式表才会执行 JS，所以也可以认为这种情况下，CSS 也会暂停构建 DOM。</li>
<li><strong>Load 和 DOMContentLoaded 区别</strong><br>Load 事件触发代表页面中的 DOM，CSS，JS，图片已经全部加载完毕。DOMContentLoaded 事件触发代表初始的 HTML 被完全加载和解析，不需要等待 CSS，JS，图片加载。<h4 id="图层"><a href="#图层" class="headerlink" title="图层"></a>图层</h4></li>
<li>一般来说，可以把普通文档流看成一个图层。特定的属性可以生成一个新的图层。不同的图层渲染互不影响，所以对于某些频繁需要渲染的建议单独生成一个新图层，提高性能。但也不能生成过多的图层，会引起反作用。</li>
<li>通过以下几个常用属性可以生成新图层：</li>
</ul>
<ol>
<li>变换：translate3d、translateZ；</li>
<li>will-change；</li>
<li>video、iframe 标签；</li>
<li>通过动画实现的 opacity 动画转换；</li>
<li>position: fixed；<h4 id="重绘（Repaint）和回流（Reflow）"><a href="#重绘（Repaint）和回流（Reflow）" class="headerlink" title="重绘（Repaint）和回流（Reflow）"></a>重绘（Repaint）和回流（Reflow）</h4></li>
</ol>
<ul>
<li><strong>回流</strong>是布局或者几何属性需要改变就称为回流。<br>另外一个叫法是重排，回流触发的条件就是:对 DOM 结构的修改引发 DOM 几何尺寸变化的时候,会发生回流过程。<br>会发生回流的情况有如下：</li>
</ul>
<ol>
<li>一个 DOM 元素的几何属性变化，常见的几何属性有width、height、padding、margin、left、top、border 等等；</li>
<li>使 DOM 节点发生增减或者移动；</li>
<li>读写 offset族、scroll族和client族属性的时候，浏览器为了获取这些值，需要进行回流操作。</li>
<li>调用 window.getComputedStyle 方法。</li>
</ol>
<p><strong>回流的过程</strong><br>依照上面的渲染流水线，触发回流的时候，如果 DOM 结构发生改变，则重新渲染 DOM 树，然后将后面的流程(包括主线程之外的任务)全部走一遍。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/2020/7.10/%E5%9B%9E%E6%B5%81%E8%BF%87%E7%A8%8B.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>
<ul>
<li><strong>重绘</strong>是当节点需要更改外观而不会影响布局的，比如改变 color 就叫称为重绘<br>当页面中元素样式的改变并不影响它在文档流中的位置时（例如：color、background-color、visibility等），浏览器会将新样式赋予给元素并重新绘制它，这个过程称为重绘。<br>根据概念，我们知道由于没有导致 DOM 几何属性的变化，因此元素的位置信息不需要更新，从而省去布局的过程，流程如下：<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/2020/7.10/%E9%87%8D%E7%BB%98%E8%BF%87%E7%A8%8B.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>
跳过了布局树和建图层树,直接去绘制列表，然后在去分块,生成位图等一系列操作。</li>
<li>可以看到，重绘不一定导致回流，但回流一定发生了重绘。回流所需的成本比重绘高的多，改变深层次的节点很可能导致父节点的一系列回流。</li>
<li>很多人不知道的是，重绘和回流其实和Event loop 有关。</li>
</ul>
<ol>
<li>Event loop 执行完微任务（Microtasks ）后，会判断 document 是否需要更新。因为浏览器是 60Hz 的刷新率，每(1000/60) = 16ms 才会更新一次。</li>
<li>然后判断是否有 resize 或者 scroll ，有的话会去触发事件，所以 resize 和 scroll 事件也是至少 16ms 才会触发一次，并且自带节流功能。</li>
<li>判断是否触发了 media query</li>
<li>更新动画并且发送事件</li>
<li>判断是否有全屏操作事件</li>
<li>执行 requestAnimationFrame 回调</li>
<li>执行 IntersectionObserver 回调，该方法用于判断元素是否可见，可以用于懒加载上，但是兼容性不好</li>
<li>更新界面<br>以上就是一帧中可能会做的事情。如果在一帧中有空闲时间，就会去执行 requestIdleCallback 回调。</li>
</ol>
<h4 id="减少重绘和回流"><a href="#减少重绘和回流" class="headerlink" title="减少重绘和回流"></a>减少重绘和回流</h4><ul>
<li>使用 translate 替代 top，在修改定位时，使用translate代替；</li>
<li>使用 visibility 替换 display: none ，因为前者只会引起重绘，后者会引发回流（改变了布局）；</li>
<li>把 DOM 离线后修改，比如：先把 DOM 给 display:none (有一次 Reflow)，然后你修改100次，然后再把它显示出来；</li>
<li>不要把DOM结点的属性值放在一个循环里当成循环里的变量;<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for(let i &#x3D; 0; i &lt; 1000; i++) &#123;</span><br><span class="line">    &#x2F;&#x2F; 获取 offsetTop 会导致回流，因为需要去获取正确的值</span><br><span class="line">    console.log(document.querySelector(&#39;.test&#39;).style.offsetTop)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>不要使用 table 布局，可能很小的一个小改动会造成整个 table 的重新布局;</li>
<li>动画实现的速度的选择，动画速度越快，回流次数越多，也可以选择使用 requestAnimationFrame;</li>
<li>CSS 选择符从右往左匹配查找，避免 DOM 深度过深;</li>
<li>将频繁运行的动画变为图层，图层能够阻止该节点回流影响别的元素。比如对于 video 标签，浏览器会自动将该节点变为图层。<h3 id="详细的渲染流程"><a href="#详细的渲染流程" class="headerlink" title="详细的渲染流程"></a>详细的渲染流程</h3>构建DOM树 ==&gt; 样式计算 ==&gt; 布局阶段 ==&gt; 分层 ==&gt; 绘制 ==&gt; 分块 ==&gt; 光栅化 ==&gt; 合成;<br>从0，1字节流到最后页面展现在你面前，这里面渲染机制肯定很复杂，所以渲染模块把执行过程中化为很多的子阶段，渲染引擎从网络进程拿到字节流数据后，经过这些子阶段的处理，最后输出像素，这个过程可以称为渲染流水线 ，我们从一张图上来看👇<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/2020/7.10/%E5%AD%90%E9%98%B6%E6%AE%B5.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>
<h4 id="构建DOM树"><a href="#构建DOM树" class="headerlink" title="构建DOM树"></a>构建DOM树</h4><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/2020/7.10/%E6%9E%84%E5%BB%BADOM%E6%A0%91%E6%B5%81%E7%A8%8B.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>
数据类型改变： 字节 ==&gt; 字符 ==&gt; 令牌 ==&gt; 节点 ==&gt; 对象模型<br>转化过程：<ol>
<li><strong>转换</strong>:浏览器从磁盘或网络读取 HTML 的原始字节，并根据文件的指定编码（例如 UTF-8）将它们转换成各个字符。</li>
<li><strong>令牌化</strong>：浏览器将字符串转换成 W3C HTML5 标准规定的各种令牌，例如，“html”、“head”，以及其他尖括号内的字符串。每个令牌都具有特殊含义和一组规则。</li>
<li><strong>词法分析</strong>：发出的令牌转换成定义其属性和规则的“对象”。</li>
<li><strong>DOM构建</strong>：最后，由于 HTML 标记定义不同标记之间的关系（一些标记包含在其他标记内），创建的对象链接在一个树数据结构内，此结构也会捕获原始标记中定义的父项-子项关系：HTML 对象是 body 对象的父项，body 是 paragraph 对象的父项，依此类推。<h4 id="样式计算"><a href="#样式计算" class="headerlink" title="样式计算"></a>样式计算</h4></li>
</ol>
</li>
<li><em>格式化样式表*</em><br>我们拿到的也就是0，1字节流数据，浏览器无法直接去识别的，所以渲染引擎收到CSS文本数据后，会执行一个操作，转换为浏览器可以理解的结构styleSheets；<br>通过浏览器的控制台document.styleSheets可以来查看这个最终结果。通过JavaScript可以完成查询和修改功能,或者说这个阶段为后面的样式操作提供基石。</li>
<li><em>标准化样式表*</em><br>有些时候，我们写CSS 样式的时候，会写font-size:2em;color:red;font-weight:bold,像这些数值并不容易被渲染引擎所理解，因此需要在计算样式之前将它们标准化，如em-&gt;px,red-&gt;rgba(255,0,0,0),bold-&gt;700等等。<br>我们来看看标准化的变化过程，如下图<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/2020/7.10/css%E6%A0%87%E5%87%86%E5%8C%96.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></li>
<li><em>计算每个DOM节点具体样式*</em><br>通过之前的格式化和标准化后，接下来就是计算每个节点具体样式信息了。<br>计算规则：<code>继承</code>和<code>层叠</code></li>
<li><em>继承*</em>：每个子节点会默认去继承父节点的样式，如果父节点中找不到，就会采用浏览器默认的样式，也叫UserAgent样式。</li>
<li><em>层叠*</em>：样式层叠，是CSS一个基本特征，它定义如何合并来自多个源的属性值的算法。<br>不过值得注意的是，在计算完样式之后，所有的样式值会被挂在到window.getComputedStyle当中，也就是可以通过JS来获取计算后的样式，非常方便。<br>这个阶段，完成了DOM节点中每个元素的具体样式，计算过程中要遵循CSS的继承和层叠两条规则，最终输出的内容是每个节点DOM的样式，被保存在ComputedStyle中。</li>
</ul>
<h4 id="生成布局树"><a href="#生成布局树" class="headerlink" title="生成布局树"></a>生成布局树</h4><p>上述过程已经完成DOM树（DOM树）构建，以及样式计算（DOM样式），接下来就是要通过浏览器的布局系统确定元素位置，也就是生成一颗布局树（Layout Tree）,之前说法叫渲染树。<br><strong>创建布局树</strong><br>在DOM树上不可见的元素，head元素，meta元素等，以及使用display:none属性的元素，最后都不会出现在布局树上，所以<strong>浏览器布局系统需要额外去构建一棵只包含可见元素布局树。</strong><br>我们直接结合图来看看这个布局树构建过程：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/2020/7.10/%E5%B8%83%E5%B1%80%E6%A0%91%E6%9E%84%E5%BB%BA%E8%BF%87%E7%A8%8B.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>
<p>主要流程：</p>
<ol>
<li>遍历DOM树可见节点，并把这些节点加到布局树中；</li>
<li>对于不可见的节点，head,meta标签等都会被忽略。对于body.p.span 这个元素，它的属性包含display:none,所以这个元素没有被包含进布局树。</li>
</ol>
<p><strong>布局计算</strong><br>这个请看<a href="https://www.rrfed.com/2017/02/26/chrome-layout/" target="_blank" rel="noopener">从Chrome源码看浏览器如何layout布局</a><br><strong>一张图看懂渲染前三步流程：</strong></p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/2020/7.10/%E6%B8%B2%E6%9F%93%E5%89%8D%E4%B8%89%E9%98%B6%E6%AE%B5.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>
<h4 id="分层"><a href="#分层" class="headerlink" title="分层"></a>分层</h4><p>首先需要知道的就是，浏览器在构建完布局树后，还需要进行一系列操作，这样子可能考虑到一些复杂的场景，比如一些些复杂的 3D 变换、页面滚动，或者使用 z-index做 z 轴排序等，还有比如是含有层叠上下文如何控制显示和隐藏等情况。<br><strong>生成图层树</strong><br>浏览器的页面实际上被分成了很多图层，这些图层叠加后合成了最终的页面。<br>我们来看看图层与布局树之间关系，如下图👇</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/2020/7.10/%E5%9B%BE%E5%B1%82%E6%A0%91.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>
<p>通常情况下，并不是布局树的每个节点都包含一个图层，如果一个节点没有对应的层，那么这个节点就从属于父节点的图层。<br>那什么情况下，渲染引擎会为特定的节点创建新图层呢？<br>有两种情况需要分别讨论，一种是<strong>显式合成</strong>，一种是<strong>隐式合成</strong>。<br><strong>显式合成</strong><br>需要剪裁(clip)的地方或者拥有层叠上下文的节点。层叠上下文也基本上是有一些特定的CSS属性创建的，一般有以下情况:</p>
<ol>
<li>HTML根元素本身就具有层叠上下文。</li>
<li>普通元素设置position不为static并且设置了z-index属性，会产生层叠上下文。</li>
<li>元素的 opacity 值不是 1</li>
<li>元素的 transform 值不是 none</li>
<li>元素的 filter 值不是 none</li>
<li>元素的 isolation 值是isolate</li>
<li>will-change指定的属性值为上面任意一个。</li>
</ol>
<p><strong>隐式合成</strong><br>这是一种什么样的情况呢，通俗意义上来说，就是z-index比较低的节点会提升为一个单独的途图层，那么层叠等级比它高的节点都会成为一个独立的图层。<br>在一个大型的项目中，一个z-index比较低的节点被提升为单独图层后，层叠在它上面的元素统统都会提升为单独的图层，我们知道，上千个图层，会增大内存的压力，有时候会让页面崩溃。这就是<code>层爆炸</code>;</p>
<h4 id="绘制"><a href="#绘制" class="headerlink" title="绘制"></a>绘制</h4><p>完成了图层的构建，接下来要做的工作就是图层的绘制了。图层的绘制跟我们日常的绘制一样，每次都会把一个复杂的图层拆分为很小的绘制指令，然后再按照这些指令的顺序组成一个绘制列表，类似于下图👇</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/2020/7.10/%E7%BB%98%E5%88%B6%E5%88%97%E8%A1%A8.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>
<h4 id="分块"><a href="#分块" class="headerlink" title="分块"></a>分块</h4><p>接下来我们就要开始绘制操作了，实际上在渲染进程中绘制操作是由专门的线程来完成的，这个线程叫<code>合成线程</code>。<br>绘制列表准备好了之后，渲染进程的主线程会给<code>合成线程</code>发送<code>commit</code>消息，把<code>绘制列表</code>提交给合成线程。接下来就是合成线程一展宏图的时候啦。</p>
<blockquote>
<p>你想呀，有时候，你的图层很大，或者说你的页面需要使用滚动条，然后页面的内容太多，多的无法想象，这个时候需要滚动好久才能滚动到底部，但是通过视口，用户只能看到页面的很小一部分，所以在这种情况下，要绘制出所有图层内容的话，就会产生太大的开销，而且也没有必要。<br>基于上面的原因，合成线程会讲图层划分为图块(tile);这些块的大小一般不会特别大，通常是 256 * 256 或者 512 * 512 这个规格。这样可以大大加速页面的首屏展示。<br><strong>首屏渲染加速：</strong><br>因为后面图块（非视口内的图块）数据要进入 GPU 内存，考虑到浏览器内存上传到 GPU 内存的操作比较慢，即使是绘制一部分图块，也可能会耗费大量时间。针对这个问题，Chrome 采用了一个策略: 在首次合成图块时只采用一个低分辨率的图片，这样首屏展示的时候只是展示出低分辨率的图片，这个时候继续进行合成操作，当正常的图块内容绘制完毕后，会将当前低分辨率的图块内容替换。这也是 Chrome 底层优化首屏加载速度的一个手段。</p>
</blockquote>
<h4 id="光栅化"><a href="#光栅化" class="headerlink" title="光栅化"></a>光栅化</h4><p>接着上面的步骤，有了图块之后，合成线程会按照视口附近的图块来优先生成位图，实际生成位图的操作是由栅格化来执行的。所谓栅格化，是指将图块转换为位图。</p>
<ul>
<li>图块是栅格化执行的最小单位</li>
<li>渲染进程中专门维护了一个栅格化线程池，专门负责把图块转换为位图数据</li>
<li>合成线程会选择视口附近的图块(tile)，把它交给栅格化线程池生成位图</li>
<li>生成位图的过程实际上都会使用 GPU 进行加速，生成的位图最后发送给合成线程<br>通常，栅格化过程都会使用 GPU 来加速生成，使用 GPU 生成位图的过程叫快速栅格化，或者 GPU 栅格化，生成的位图被保存在 GPU 内存中。<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/2020/7.10/%E6%A0%85%E6%A0%BC%E5%8C%96.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>
<h4 id="合成和显示"><a href="#合成和显示" class="headerlink" title="合成和显示"></a>合成和显示</h4>栅格化操作完成后，合成线程会生成一个绘制命令，即”DrawQuad”，并发送给浏览器进程。<br>浏览器进程中的viz组件接收到这个命令，根据这个命令，把页面内容绘制到内存，也就是生成了页面，然后把这部分内存发送给显卡<br>两张图总结渲染过程，如下图：<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/2020/7.10/%E4%B8%80%E5%BC%A0%E5%9B%BE%E6%80%BB%E7%BB%93%E6%B8%B2%E6%9F%93%E8%BF%87%E7%A8%8B.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/2020/7.10/%E4%B8%80%E5%BC%A0%E5%9B%BE%E6%80%BB%E7%BB%93%E6%B8%B2%E6%9F%93%E8%BF%87%E7%A8%8B2.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>
感觉好多东西还没有接触，越细越多，此时我的心情如下<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/emotion/%E7%86%8A%E7%8C%AB%E4%BA%BA%E5%90%90%E8%A1%80.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></li>
</ul>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2020-07-10T07:24:44.742Z" itemprop="dateUpdated">2020-07-10 15:24:44</time>
</span><br>


        
        版权声明：本文为博主原创文章，遵循<a href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank" >CC 4.0 BY-SA</a>版权协议，转载请附上原文出处链接。
        
    </div>
    
    <footer>
        <a href="http://lawsan.xyz">
            <img src="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/assets/avatar.jpg" alt="Lawson">
            Lawson
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/" rel="tag">浏览器</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://lawsan.xyz/2020/07/10/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86%E4%BD%A0%E4%BA%86%E8%A7%A3%E5%A4%9A%E5%B0%91/&title=《浏览器渲染原理你了解多少》 — Lawson's Blog&pic=https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/assets/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://lawsan.xyz/2020/07/10/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86%E4%BD%A0%E4%BA%86%E8%A7%A3%E5%A4%9A%E5%B0%91/&title=《浏览器渲染原理你了解多少》 — Lawson's Blog&source=阿穿的博客。做人最重要的是开心。" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://lawsan.xyz/2020/07/10/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86%E4%BD%A0%E4%BA%86%E8%A7%A3%E5%A4%9A%E5%B0%91/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《浏览器渲染原理你了解多少》 — Lawson's Blog&url=http://lawsan.xyz/2020/07/10/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86%E4%BD%A0%E4%BA%86%E8%A7%A3%E5%A4%9A%E5%B0%91/&via=http://lawsan.xyz" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://lawsan.xyz/2020/07/10/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86%E4%BD%A0%E4%BA%86%E8%A7%A3%E5%A4%9A%E5%B0%91/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2020/07/10/HTTP%E7%BC%93%E5%AD%98/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">HTTP缓存</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2020/07/09/%E4%BB%8E%E8%BE%93%E5%85%A5URL%E5%88%B0%E9%A1%B5%E9%9D%A2%E5%B1%95%E7%A4%BA%EF%BC%8C%E8%BF%99%E4%B8%AD%E9%97%B4%E5%8F%91%E7%94%9F%E4%BA%86%E5%95%A5/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">从输入URL到页面展示，这中间发生了啥</h4>
      </a>
    </div>
  
</nav>



    

















<section class="comments" id="comments">
    <div id="gitalk-container"></div>
    <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
    <script>
        var id = location.pathname
        if (location.pathname.length > 50) {
          id = location.pathname.replace(/\/\d+\/\d+\/\d+\//, '').replace('/', '').substring(0, 50)
        }
        const gitalk = new Gitalk({
          clientID: '60476e5f2147b66e183a',
          clientSecret: '62d6d1e9df0f3f402e64a84793b11b781331015e',
          repo: 'blog_comments',
          owner: 'ChuanV',
          admin: ['ChuanV'],
          id: id,      // Ensure uniqueness and length less than 50
          title: document.title.split('|')[0],
          distractionFreeMode: false  // Facebook-like distraction free mode
        })

        gitalk.render('gitalk-container')
    </script>
</section>




</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢大爷~
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/assets/wechat.jpg" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/assets/wechat.jpg" data-alipay="https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/assets/alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>博客内容遵循 <a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span>
        </p>
    </div>
    <div class="bottom">
        <p><span>Lawson &copy; 2020</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
	
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://lawsan.xyz/2020/07/10/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86%E4%BD%A0%E4%BA%86%E8%A7%A3%E5%A4%9A%E5%B0%91/&title=《浏览器渲染原理你了解多少》 — Lawson's Blog&pic=https://happychuan-pic.oss-cn-shenzhen.aliyuncs.com/assets/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://lawsan.xyz/2020/07/10/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86%E4%BD%A0%E4%BA%86%E8%A7%A3%E5%A4%9A%E5%B0%91/&title=《浏览器渲染原理你了解多少》 — Lawson's Blog&source=阿穿的博客。做人最重要的是开心。" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://lawsan.xyz/2020/07/10/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86%E4%BD%A0%E4%BA%86%E8%A7%A3%E5%A4%9A%E5%B0%91/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《浏览器渲染原理你了解多少》 — Lawson's Blog&url=http://lawsan.xyz/2020/07/10/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86%E4%BD%A0%E4%BA%86%E8%A7%A3%E5%A4%9A%E5%B0%91/&via=http://lawsan.xyz" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://lawsan.xyz/2020/07/10/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86%E4%BD%A0%E4%BA%86%E8%A7%A3%E5%A4%9A%E5%B0%91/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASYAAAEmCAAAAADqr2IGAAAEmElEQVR42u3ay47TQBAF0Pz/T4OEWMAinnurPChtjlcoydhdx0hdj3694uvHr+vd539+++6T6zvn17tVtSt8fceFCRMmTJg+kilZVnLrPMjkk3f3zH+fvPL8lWDChAkTptOZ8tu9+6skjHyrvg7m+vPr6PI0AhMmTJgw/W9MbUl8vdDvSBfal4cJEyZMmDDNNu/2r/IWc1KcJ8UtJkyYMGH635jaTbodZybb9r6I3RfPN/TCMWHChAnThzHNtuRn/PsbzzdhwoQJE6YPYPpRXrNSeT+w3BSxm3h/3xMTJkyYMB3LlJSUeaHbbrR5YP9yUPp2VZgwYcKE6RFMbdOzTRfahm874NwcP4p64ZgwYcKE6RFMeaJwF0o7WE1Y22TiixQHEyZMmDA9lCn/th0c3vvcIuCykMaECRMmTOcy5S3atgBul54nCu0T83bwyhsTJkyYMH0k0+ZQS1tkzsrXTXk8G1t+AYcJEyZMmI5iSh6/2YDzseUssHzsOnuFf5W+mDBhwoTpQKY8FciLxtly27bvbD1tcV5nTJgwYcKE6cOYNiXofktu0459etEeVMKECRMmTM9gul7ud7RT983cvOmcR7d6q5gwYcKE6SOZ8sM0LVB+t00BfB1enjRESQkmTJgwYTqcaX8YtN5iL+9/bymblNNfRIEJEyZMmA5kuvfgSzvgnL2MtjDOUw1MmDBhwvQ8pvzx+YGbdrtNytc27M0dhgNOTJgwYcL0wUyzzThHye/QlsezBKVNdzBhwoQJ0+lMm6btLF0oOtBlw3d2LKlNdDBhwoQJ01lMs5Fh8oDZIZv2wM2mUC+2f0yYMGHCdDhTPtjbNH9nz8rTi/yV51FgwoQJE6ZnMO1bopux4l0N5eFmn7SVMWHChAnTsUyzbfWukJINvg0pTynqp2PChAkTpqOY2sZucoymHYXmBeoGtz3cgwkTJkyYnsGUNHxnC21ThLsGkDnf6mQTJkyYMGE6hGm25edBbjb7PF3IW7rDuDBhwoQJ0+FMbdj5wLINux1VzhrQdcaECRMmTJiOZboOPm/jtmPI5G/z+7SvqqXEhAkTJkzPYGoL1Nfiao/j5KyzQjeKERMmTJgwHcu0OXAzSwjyRGRfBie/z+kxYcKECdOJTPlhl7uKz7YR3L689hhQdIQIEyZMmDA9iGn/gLwA3hzTSYaaybdFuYsJEyZMmI5i2heZeUmcPzEffM7uU6cOmDBhwoTpcUztsZtkM541dvNCd7b+CA4TJkyYMD2Cqd3ak8Uln8wI8uZs/mLerhATJkyYMB3LNDuUkzdw82Qiv1teHs9eT7ROTJgwYcJ0CNPmME1e0Lat2zxNaQvp/L8CJkyYMGF6BtNsS95szMkv86UnzdxZejE7ioQJEyZMmD6TqU0Cks14U2rmYezTlPz+mDBhwoTpdKZNGLOtuqVsaTaN6Xr2iwkTJkyYHsGUDz7bIrOlz4Fmo1NMmDBhwoQp/31SVOeDzHzNbaEbNXkxYcKECdOxTHkwdw0g22/bV5Jv+cknmDBhwoTpXKZZAzQPIxkutsG0beL8em0uTJgwYcL0WUw/AdfpJgb1hGR3AAAAAElFTkSuQmCC" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


lazyScripts.push('//s95.cnzz.com/z_stat.php?id=1279039707&web_id=1279039707')

</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>






<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = 'Lawson's Blog';
            clearTimeout(titleTime);
        } else {
            document.title = 'Lawson's Blog';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
